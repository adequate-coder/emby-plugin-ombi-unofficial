define(["exports"],function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;function notify(callback){function loop(nodes,selectors,added,removed,connected,pass){for(var node of nodes)(pass||QSA$1 in node)&&(connected?added.has(node)||(added.add(node),removed.delete(node),callback(node,connected)):removed.has(node)||(removed.add(node),added.delete(node),callback(node,connected)),pass||loop(node[QSA$1](selectors),selectors,added,removed,connected,TRUE))}var root=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,MO=2<arguments.length&&void 0!==arguments[2]?arguments[2]:MutationObserver,query=3<arguments.length&&void 0!==arguments[3]?arguments[3]:["*"],mo=new MO(function(records){if(query.length){var _ref3,selectors=query.join(","),added=new Set,removed=new Set;for(_ref3 of records){var addedNodes=_ref3.addedNodes,removedNodes=_ref3.removedNodes;loop(removedNodes,selectors,added,removed,FALSE,FALSE),loop(addedNodes,selectors,added,removed,TRUE,FALSE)}}}),observe=mo.observe;return(mo.observe=function(node){return observe.call(mo,node,{subtree:TRUE,childList:TRUE})})(root),mo}function elements(element){return QSA in element}function qsaObserver(options){function notifier(element,connected){var selectors;if(connected)for(var q,m=function(element){return element.matches||element.webkitMatchesSelector||element.msMatchesSelector}(element),i=0,length=query.length;i<length;i++)m.call(element,q=query[i])&&(live.has(element)||live.set(element,new Set$2),(selectors=live.get(element)).has(q)||(selectors.add(q),options.handle(element,connected,q)));else live.has(element)&&(selectors=live.get(element),live.delete(element),selectors.forEach(function(q){options.handle(element,connected,q)}))}function parse(elements){for(var connected=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=0,length=elements.length;i<length;i++)notifier(elements[i],connected)}var live=new WeakMap$1,query=options.query,root=options.root||document$2,observer=notify(notifier,root,MutationObserver$2,query),attachShadow=Element$1.prototype.attachShadow;return attachShadow&&(Element$1.prototype.attachShadow=function(init){init=attachShadow.call(this,init);return observer.observe(init),init}),query.length&&parse(root[QSA](query)),{drop:function(elements){for(var i=0,length=elements.length;i<length;i++)live.delete(elements[i])},flush:function(){for(var records=observer.takeRecords(),i=0,length=records.length;i<length;i++)parse(filter.call(records[i].removedNodes,elements),!1),parse(filter.call(records[i].addedNodes,elements),!0)},observer:observer,parse:parse}}function getCE(is){return registry.get(is)||get.call(customElements,is)}function whenDefined(name){var _,$;return defined.has(name)||($=new Promise$1(function($){_=$}),defined.set(name,{$:$,_:_})),defined.get(name).$}var keys=Object.keys,TRUE=!0,FALSE=!1,QSA$1="querySelectorAll",QSA="querySelectorAll",_self=self,document$2=_self.document,Element$1=_self.Element,MutationObserver$2=_self.MutationObserver,Set$2=_self.Set,WeakMap$1=_self.WeakMap,filter=[].filter,_self=self,customElements=_self.customElements,document$1=_self.document,Element=_self.Element,MutationObserver$1=_self.MutationObserver,Object$1=_self.Object,Promise$1=_self.Promise,Map=_self.Map,Set$1=_self.Set,WeakMap=_self.WeakMap,_self=_self.Reflect,createElement=document$1.createElement,define=customElements.define,get=customElements.get,upgrade=customElements.upgrade,construct=(_self||{construct:function(HTMLElement){return HTMLElement.call(this)}}).construct,defineProperty=Object$1.defineProperty,_self=Object$1.getOwnPropertyNames,setPrototypeOf=Object$1.setPrototypeOf,shadowRoots=new WeakMap,shadows=new Set$1,classes=new Map,defined=new Map,prototypes=new Map,registry=new Map,shadowed=[],query=[],parse=qsaObserver({query:query,handle:function(element,connected,selector){selector=prototypes.get(selector);if(connected&&!selector.isPrototypeOf(element)){var redefine=function(element){for(var key=keys(element),value=[],ignore=new Set,length=key.length,i=0;i<length;i++){value[i]=element[key[i]];try{delete element[key[i]]}catch(SafariTP){ignore.add(i)}}return function(){for(var _i=0;_i<length;_i++)ignore.has(_i)||(element[key[_i]]=value[_i])}}(element);override=setPrototypeOf(element,selector);try{new selector.constructor}finally{override=null,redefine()}}redefine="".concat(connected?"":"dis","connectedCallback");redefine in selector&&element[redefine]()}}).parse,parseShadowed=qsaObserver({query:shadowed,handle:function(element,connected){shadowRoots.has(element)&&(connected?shadows.add(element):shadows.delete(element),query.length)&&parseShadow.call(query,element)}}).parse,attachShadow=Element.prototype.attachShadow,augment=(attachShadow&&(Element.prototype.attachShadow=function(init){init=attachShadow.call(this,init);return shadowRoots.set(this,init),init}),function(whenDefined,MutationObserver){function attributeChanged(records){for(var i=0,length=records.length;i<length;i++)dispatch(records[i])}function dispatch(_ref){var target=_ref.target,attributeName=_ref.attributeName,_ref=_ref.oldValue;target.attributeChangedCallback(attributeName,_ref,target.getAttribute(attributeName))}return function(target,is){var attributeFilter=target.constructor.observedAttributes;return attributeFilter&&whenDefined(is).then(function(){new MutationObserver(attributeChanged).observe(target,{attributes:!0,attributeOldValue:!0,attributeFilter:attributeFilter});for(var i=0,length=attributeFilter.length;i<length;i++)target.hasAttribute(attributeFilter[i])&&dispatch({target:target,attributeName:attributeFilter[i],oldValue:null})}),target}}(whenDefined,MutationObserver$1)),override=null;function parseShadow(element){var root=shadowRoots.get(element);parse(root.querySelectorAll(this),element.isConnected)}_self(self).filter(function(k){return/^HTML.*Element$/.test(k)}).forEach(function(k){var HTMLElement=self[k];function HTMLBuiltIn(){var is,_classes$get,constructor=this.constructor;if(classes.has(constructor))return is=(_classes$get=classes.get(constructor)).is,_classes$get=_classes$get.tag,is?override?augment(override,is):((_classes$get=createElement.call(document$1,_classes$get)).setAttribute("is",is),augment(setPrototypeOf(_classes$get,constructor.prototype),is)):construct.call(this,HTMLElement,[],constructor);throw new TypeError("Illegal constructor")}setPrototypeOf(HTMLBuiltIn,HTMLElement),defineProperty(HTMLBuiltIn.prototype=HTMLElement.prototype,"constructor",{value:HTMLBuiltIn}),defineProperty(self,k,{value:HTMLBuiltIn})}),document$1.createElement=function(name,options){options=options&&options.is;if(options){var Class=registry.get(options);if(Class&&classes.get(Class).tag===name)return new Class}Class=createElement.call(document$1,name);return options&&Class.setAttribute("is",options),Class},customElements.get=getCE,customElements.whenDefined=whenDefined,customElements.upgrade=function(element){var is=element.getAttribute("is");if(is){var _constructor=registry.get(is);if(_constructor)return void augment(setPrototypeOf(element,_constructor.prototype),is)}upgrade.call(customElements,element)},customElements.define=function(is,Class,options){if(getCE(is))throw new Error("'".concat(is,"' has already been defined as a custom element"));var selector,tag=options&&options.extends;classes.set(Class,tag?{is:is,tag:tag}:{is:"",tag:is}),tag?(selector="".concat(tag,'[is="').concat(is,'"]'),prototypes.set(selector,Class.prototype),registry.set(is,Class),query.push(selector)):(define.apply(customElements,arguments),shadowed.push(selector=is)),whenDefined(is).then(function(){tag?(parse(document$1.querySelectorAll(selector)),shadows.forEach(parseShadow,[selector])):parseShadowed(document$1.querySelectorAll(selector))}),defined.get(is)._(Class)};_exports.default=customElements});